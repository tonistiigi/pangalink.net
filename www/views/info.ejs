<div class="page-header">
    <h1>Info</h1>
</div>

<h3 id="kontakt">Kontakt</h3>

<p>Pangalink.net teenust haldab:</p>

<address>
  <strong>Kreata OÜ</strong><br>
  <abbr title="Telefon">Tel:</abbr> +372 5661 1840<br>
  <abbr title="Äriregistri kood">Reg kood:</abbr> 11710839<br>
  <abbr title="Arveldusarve (Swedbank)">A/a:</abbr> EE952200221047058182<br>
</address>

<address>
  <strong>Kontaktisik</strong><br>
  Andris Reinman<br>
  <a href="mailto:info@pangalink.net">info@pangalink.net</a>
</address>

<hr>

<h3 id="vigadest_teatamine">Staatus</h3>

Pangalink.net süsteemi olekut saab kontrollida aadressil <a href="http://status.pangalink.net/">status.pangalink.net</a>.

<h3 id="vigadest_teatamine">Vigadest teatamine</h3>

<p>Juhul kui leiad <%= title %> teenusest mõne vea, olgu selleks siis ebakorrektne pangalingi implementatsioon või kirjaviga mõnes tekstis, siis saad sellest veast teavitada <a href="https://github.com/andris9/pangalink.net/issues?state=open">GitHubis.</a></p>

<p><%= title %> on vaba lähtekoodiga tarkvara, <%= title %> lähtekood on alla laetav <a href="https://github.com/andris9/pangalink.net">GitHubist</a>, seega võid ka ise vea parandamises kaasa lüüa.</p>

<hr>

<h3 id="pangalinkide_spetsifikatsioon">Pangalinkide spetsifikatsioon ja näited</h3>

<h4 id="demorakendus">Demorakendus</h4>

<p>Lae endale demorakenduse täielik lähtekood (põhineb Zone <a href="http://blog.zone.ee/2006/12/12/pangalink/">pangalingi demol</a>) koos vajalike sertifikaatidega allolevalt lingilt.</p>
<p>Demorakendust pole vaja eraldi konfigureerida – töötab <em>out of the box</em>. Lae see enda serverisse ning ava aadress <a href="http://tahvel.info/banklink-0.1.1/pay.php">pay.php</a>.</p>
<p><a href="/assets/banklink-0.1.1.zip" class="btn btn-default btn-lg" target="_blank"><span class="glyphicon glyphicon-download"></span> Demorakenduse lähtekood</a></p>

<hr>

<h4 id="csr_genereerimine">CSR genereerimine</h4>

<p>Juhul kui soovid abi salajase võtme ja sertifikaadipäringu failide genereerimisel, saad seda teha <a href="/keys">siinsamas</a>.

<hr>

<h4 id="tehniline_spetsifikatsioon">Tehniline spetsifikatsioon</h4>
<ul>
    <li><a href="http://www.danskebank.ee/et/14732.html" target="_blank">Danske Bank pangalingi dokumentatsioon</a></li>
    <li><a href="http://www.krediidipank.ee/business/settlements/bank-link/tehniline_kirjeldus.pdf" target="_blank">Krediidipanga pangalingi dokumentatsioon</a> (PDF)</li>
    <li><a href="http://www.lhv.ee/images/docs/Bank_Link_Technical_Specification-ET.pdf" target="_blank">LHV Panga pangalingi dokumentatsioon</a> (PDF)</li>
    <li><a href="http://www.nordea.ee/sitemod/upload/root/www.nordea.ee%20-%20default/Teenused%20firmale/E-Payment_v1_1.pdf" target="_blank">Nordea pangalingi dokumentatsioon</a> (PDF)</li>
    <li><a href="http://www.estcard.ee/publicweb/html/est/e-commerce.html" target="_blank">Pankade Kaardikeskuse kaardimaksete dokumentatsioon</a></li>
    <li><a href="http://www.seb.ee/ari/maksete-kogumine/maksete-kogumine-internetis/tehniline-spetsifikatsioon" target="_blank">SEB pangalingi dokumentatsioon</a></li>
    <li><a href="https://www.swedbank.ee/static/pdf/business/d2d/paymentcollection/info_banklink_techspec_est.pdf" target="_blank">Swedbank pangalingi dokumentatsioon</a> (PDF)</li>
</ul>

<p><%= title %> on kohati rangem kui spetsifikatsioonid ette näevad – juhul kui mingi väärtus on mitmeti mõistetav või võiks alati olla kindla väärtusega, siis <%= title %> nõuabki sel puhul üht ja kindlat kasutusviisi.</p>

<p>Näiteks kui osad pangad lubavad kasutada sisendina suvalist kodeeringut (n: SEB puhul <code>VK_CHARSET=ISO-8859-13</code>), aga reaalsuses võtavad seda kui <code>ISO-8859-1</code>, lõigates tundmatud sümbolid lihtsalt ära, siis <%= title %> ei luba mittetoetatud kodeeringuid üldse kasutada.</p>

<p>Samuti kui SOLO protokollis on <code>SOLOPMT_CONFIRM</code> parameetri kasutamine valikuline ning selle kasutamise korral saavad väärtusteks olla <code>YES|NO</code>, siis <%= title %> nõuab, et parameeter oleks alati määratud ja selleks väärtuseks oleks <code>YES</code>, kuna vastasel korral ei ole võimalik kontrollida vastuspäringu autentsust.</p>

<hr>

<h4 id="pangalink_soovitab"><%= title %> soovitab</h4>
<ul>
    <li><a href="http://www.e-abi.ee">E-Abi</a> – pangalinkide moodulid populaarseimatele sisuhaldustarkvaradele</li>
    <li><a href="http://www.magentocommerce.com/magento-connect/eepohs-estpay-7729.html">Eepohs EstPay Estonian Payment Methods</a> – pangalinkide tasuta moodulid Magento platvormile</li>
    <li><a href="http://banklink.inoryy.com/">Banklink</a> – vabavaralised pangalinkide moodulid PHP rakendustes kasutamiseks</li>
    <li><a href="http://drupal.org/project/commerce_ep">Commerce Estonian payments</a> – vabavaralised pangalinkide moodulid Drupal platvormile</li>
    <li><a href="https://github.com/tonistiigi/ipizza">ipizza</a> – Node.js kliendimoodulid pangalinkide kasutamiseks</li>
    <li><a href="https://github.com/jhaesus/bank_link">bank_link</a> – Ruby gem pangalinkide kasutamiseks</li>
</ul>

<hr>

<h4 id="pankade_erinevused">Pankade erinevused</h4>

<table class="table table-hover">
    <thead>
    <tr>
        <th>Pank</th>
        <th>Protokoll</th>
        <th>Identifikaator VK_SND_ID</th>
        <th style="width:100px">Kodeeringu parameeter</th>
        <th>Lubatud kodeeringud</th>
        <th>Test url</th>
        <th>Tegelik url</th>
        <th>Versioonid</th>
        <th>Multibaidid&nbsp;*</th>
    </tr>
    </thead>
    <tbody>

    <tr>
        <td>Danske Bank</td>
        <td>IPizza</td>
        <td><code>SAMPOPANK</code></td>
        <td>-</td>
        <td><b>ISO-8859-1</b></td>
        <td><a href="<%= proto %>://<%= hostname %>/banklink/sampo">[link]</a></td>

        <td><a href="https://www2.danskebank.ee/ibank/pizza/pizza">[link]</a></td>
        <td><code>008</code></td>
        <td>-</td>
    </tr>

    <tr>
        <td>Krediidipank</td>
        <td>IPizza</td>
        <td><code>KREP</code></td>
        <td><code>VK_CHARSET</code></td>
        <td><b>ISO-8859-13</b> **<br />
            UTF-8<br />
            Win-1257
            </td>
        <td><a href="<%= proto %>://<%= hostname %>/banklink/krediidipank">[link]</a></td>

        <td><a href="https://i-pank.krediidipank.ee/teller/maksa">[link]</a></td>
        <td><code>008</code></td>
        <td>baidid</td>
    </tr>

    <tr>
        <td>LHV Pank</td>
        <td>IPizza</td>
        <td><code>LHV</code></td>
        <td><code>VK_CHARSET</code></td>
        <td><b>ISO-8859-1</b><br />
            UTF-8<br />
            WINDOWS-1257</td>
        <td><a href="<%= proto %>://<%= hostname %>/banklink/lhv">[link]</a></td>

        <td><a href="https://www.lhv.ee/banklink">[link]</a></td>
        <td><code>008</code></td>
        <td>baidid</td>
    </tr>

    <tr>
        <td>Nordea</td>
        <td>Solo (TUPAS)</td>
        <td>-</td>
        <td>-</td>
        <td><b>ISO-8859-1</b></td>
        <td><a href="<%= proto %>://<%= hostname %>/banklink/nordea">[link]</a></td>
        <td><a href="https://netbank.nordea.com/pnbepay/epayn.jsp">[link]</a></td>
        <td><code>0002</code> <code>0003</code> <code>0004</code></td>
        <td>-</td>
    </tr>

    <tr>
        <td>Pankade Kaardikeskus</td>
        <td>E-Commerce Payment Gateway</td>
        <td>-</td>
        <td><code>charEncoding</code></td>
        <td><b>ISO-8859-1</b><br />UTF-8 ***</td>
        <td><a href="<%= proto %>://<%= hostname %>/banklink/ec">[link]</a></td>
        <td><a href="https://pos.estcard.ee/webpos/servlet/iPAYServlet">[link]</a></td>
        <td><code>002</code>&nbsp;**** <code>004</code></td>
        <td>sümbolid?</td>
    </tr>

    <tr>
        <td>SEB</td>
        <td>IPizza</td>
        <td><code>EYP</code></td>
        <td><code>VK_CHARSET</code></td>
        <td><b>ISO-8859-1</b><br />
            UTF-8</td>
        <td><a href="<%= proto %>://<%= hostname %>/banklink/seb">[link]</a></td>

        <td><a href="https://www.seb.ee/cgi-bin/unet3.sh/un3min.r">[link]</a></td>
        <td><code>008</code></td>
        <td>baidid</td>
    </tr>

    <tr>
        <td>Swedbank</td>
        <td>IPizza</td>
        <td><code>HP</code></td>
        <td><code>VK_ENCODING</code></td>
        <td><b>ISO-8859-1</b><br />
            UTF-8<br />
            ISO-8859-4 *****</td>
        <td><a href="<%= proto %>://<%= hostname %>/banklink/swedbank">[link]</a></td>

        <td><a href="https://www.swedbank.ee/banklink">[link]</a></td>
        <td><code>008</code></td>
        <td>sümbolid</td>
    </tr>
    </tbody>

</table>

<blockquote>

* Väärtused näitavad, kas unikood kodeeringu puhul tuleb stringi pikkuse arvutamisel arvestada sübolite või baitide arvuga. Mitte-unikood kodeeringu puhul on sümbolite ja baitide arv alati võrdne.<br />

** Juhul kui kodeering pole määratud parameetriga <code>VK_CHARSET</code>, kasutatakse ISO-8859-13 kodeeringut, kuid allkirjastamisel täpitähti ei arvestata. <%= title %> nõuab seetõttu Krediidipanga puhul alati <code>VK_CHARSET</code> parameetri kasutamist.<br />

*** Ainult versioonis <code>004</code>.<br />

**** Estcard versioon <code>002</code> on aegunud, kasutada tuleks versiooni <code>004</code>.<br />

***** Swedbank tundub toetavat ka <code>ISO-8859-4</code> kodeeringut, kuigi dokumentatsioon seda ei luba.

</blockquote>

<hr>

<h3 id="makse-info">Makse info liikumine</h3>
<p>Makse info liikumise skeem õnnestunud makse korral:</p>
<p><img src="/assets/img/makse.png" alt="makse liikumise skeem"/></p>
